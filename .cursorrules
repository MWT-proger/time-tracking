# Правила для Cursor AI

## Создание коммитов

При просьбе пользователя "сделай коммит" или "создай коммит":

1. Проанализировать все staged изменения через `git diff --cached` или `git status`
2. Определить основной тип коммита по характеру изменений
3. **ВАЖНО**: Если коммит содержит изменения типа `feat` или `fix` (видимые пользователю):
   - Обновить раздел `[Unreleased]` в файле `docs/CHANGELOG.md`
   - Добавить запись в соответствующий подраздел (Добавлено/Исправлено/Изменено)
   - Добавить обновленный CHANGELOG.md в staging
4. Создать сообщение коммита в формате Conventional Commits на русском языке
5. Использовать императивное наклонение ("добавлено" вместо "добавил")
6. Для нескольких типов изменений группировать их в теле коммита с префиксами типов

### Формат коммита

```
<type>(<scope>): <subject>

<body>
```

### Типы коммитов:
- `feat`: новая функциональность
- `fix`: исправление бага
- `docs`: изменения в документации
- `refactor`: рефакторинг кода
- `build`: изменения в системе сборки
- `ci`: изменения в CI/CD
- `chore`: прочие изменения

### Примеры:

Простой коммит:
```
feat: добавлена возможность архивирования проектов
```

Коммит с несколькими типами:
```
build: добавлена автоматизация сборки и релизов

- ci: добавлен GitHub Actions workflow
- build: улучшена система сборки DEB пакетов
- docs: расширена документация по установке
```

### Обновление CHANGELOG

При коммитах типов `feat` и `fix` обязательно обновлять `docs/CHANGELOG.md`:
- Добавлять запись в раздел `[Unreleased]`
- Использовать подразделы: `### Добавлено`, `### Исправлено`, `### Изменено`
- Включать обновленный CHANGELOG.md в коммит

Подробные правила находятся в файле `docs/commit-rules.md`.

